# üöÄ –ì–†–ê–ú–û–¢–ï–ô v3.0 ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## ‚ö° –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ —Ä–∞–±–æ—á–µ–≥–æ –±–æ—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- ffmpeg (–¥–ª—è –≤–∏–¥–µ–æ)
- BOT_TOKEN (–æ—Ç @BotFather)
- GROQ_API_KEYS (—Å console.groq.com)

---

## üîß 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ffmpeg

### Linux (Ubuntu/Debian)
```bash
sudo apt-get update
sudo apt-get install ffmpeg
```

### macOS
```bash
brew install ffmpeg
```

### Windows
–°–∫–∞—á–∞–π—Ç–µ https://ffmpeg.org/download.html –∏–ª–∏:
```bash
choco install ffmpeg
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
ffmpeg -version
ffprobe -version
```

---

## üì• 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –ø–∞–∫–µ—Ç–æ–≤

```bash
pip install -r requirements_v3.txt
```

**–ö–ª—é—á–µ–≤—ã–µ –ø–∞–∫–µ—Ç—ã:**
- aiogram ‚Äî Telegram Bot
- openai ‚Äî Groq API
- yt-dlp ‚Äî —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ (YouTube, TikTok, –∏ —Ç.–¥.)
- youtube-transcript-api ‚Äî —Å—É–±—Ç–∏—Ç—Ä—ã YouTube
- pdfplumber ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF

---

## üîê 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_—Ç–µ–ª–µ–≥—Ä–∞–º–∞
GROQ_API_KEYS=–≤–∞—à_–∫–ª—é—á_groq_api
PORT=8080
```

---

## üöÄ 4. –ó–∞–ø—É—Å–∫

```bash
python bot.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ Groq client initialized: abc12345...
‚úÖ Total Groq clients: 1
‚úÖ WEB SERVER STARTED ON PORT 8080
‚úÖ Starting polling...
```

**–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç üéâ

---

## üì± 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É:
1. **–¢–µ–∫—Å—Ç** ‚Äî –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. **–ì–æ–ª–æ—Å** ‚Äî –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
3. **–§–æ—Ç–æ** ‚Äî —Ñ–æ—Ç–æ —Å —Ç–µ–∫—Å—Ç–æ–º
4. **–í–∏–¥–µ–æ** ‚Äî MP4, AVI –∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–∏–¥–µ–æ—Ñ–∞–π–ª
5. **YouTube —Å—Å—ã–ª–∫—É** ‚Äî https://www.youtube.com/watch?v=...
6. **TikTok —Å—Å—ã–ª–∫—É** ‚Äî https://vm.tiktok.com/...

### –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
```
/status
```

---

## üé• –ü—Ä–∏–º–µ—Ä—ã –≤–∏–¥–µ–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### YouTube —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏
```
–û—Ç–ø—Ä–∞–≤—å—Ç–µ: https://www.youtube.com/watch?v=...
–ë–æ—Ç –Ω–∞–π–¥–µ—Ç —Å—É–±—Ç–∏—Ç—Ä—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
```

### YouTube –±–µ–∑ —Å—É–±—Ç–∏—Ç—Ä–æ–≤
```
–û—Ç–ø—Ä–∞–≤—å—Ç–µ: https://www.youtube.com/watch?v=...
–ë–æ—Ç —Å–∫–∞—á–∞–µ—Ç –≤–∏–¥–µ–æ, –∏–∑–≤–ª–µ—á–µ—Ç –∑–≤—É–∫ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç
```

### –õ–æ–∫–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ
```
–û—Ç–ø—Ä–∞–≤—å—Ç–µ: video.mp4 (–∏–ª–∏ avi, mov, mkv, –∏ —Ç.–¥.)
–ë–æ—Ç –∏–∑–≤–ª–µ—á–µ—Ç –∑–≤—É–∫ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç
```

### TikTok
```
–û—Ç–ø—Ä–∞–≤—å—Ç–µ: https://vm.tiktok.com/...
–ë–æ—Ç —Å–∫–∞—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∏–¥–µ–æ
```

### Rutube
```
–û—Ç–ø—Ä–∞–≤—å—Ç–µ: https://rutube.ru/video/...
–ë–æ—Ç —Å–∫–∞—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∏–¥–µ–æ
```

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v3.0

```
BOT.PY                     PROCESSORS.PY              CONFIG.PY
‚îú‚îÄ‚îÄ –•—ç–Ω–¥–ª–µ—Ä—ã              ‚îú‚îÄ‚îÄ VisionProcessor         ‚îú‚îÄ‚îÄ –ü—Ä–æ–º–ø—Ç—ã
‚îú‚îÄ‚îÄ –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π‚îú‚îÄ‚îÄ VideoProcessor          ‚îú‚îÄ‚îÄ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ          ‚îú‚îÄ‚îÄ VideoPlatformProcessor  ‚îú‚îÄ‚îÄ –¢–∞–π–º–∞—É—Ç—ã
‚îú‚îÄ‚îÄ –í–µ–±-—Å–µ—Ä–≤–µ—Ä           ‚îú‚îÄ‚îÄ transcribe_voice()      ‚îú‚îÄ‚îÄ –°–æ–æ–±—â–µ–Ω–∏—è
‚îî‚îÄ‚îÄ –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏       ‚îú‚îÄ‚îÄ correct_text_*()        ‚îî‚îÄ‚îÄ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
                         ‚îú‚îÄ‚îÄ summarize_text()
                         ‚îú‚îÄ‚îÄ extract_*_file()
                         ‚îî‚îÄ‚îÄ process_video_*()
```

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```python
# config.py
VIDEO_MAX_DURATION = 3600          # 60 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º
YOUTUBE_PREFER_SUBTITLES = True    # –°–Ω–∞—á–∞–ª–∞ —Å—É–±—Ç–∏—Ç—Ä—ã
GROQ_TIMEOUT = 120.0               # –¢–∞–π–º–∞—É—Ç 120 —Å–µ–∫
FILE_SIZE_LIMIT = 100 * 1024 * 1024  # 100 MB
```

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### "ffmpeg not found"
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ffmpeg (—Å–º. –≤—ã—à–µ)
which ffmpeg
```

### "No Groq clients available"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GROQ_API_KEYS` –≤ `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á –≤–∞–ª–∏–¥–Ω—ã–π

### "BOT_TOKEN not found"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_TOKEN` –≤ `.env`
- –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π –æ—Ç @BotFather –≤ Telegram

### –í–∏–¥–µ–æ –∑–∞–≤–∏—Å–∞–µ—Ç
- –£–≤–µ–ª–∏—á—å—Ç–µ `GROQ_TIMEOUT` –≤ config.py
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `ffmpeg` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

```
/start    ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
/help     ‚Äî –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
/status   ‚Äî —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
```

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ

```
YouTube —Å—Å—ã–ª–∫–∞
    ‚Üì
–ü–æ–∏—Å–∫ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ (ru/en)
    ‚Üì –ï—Å—Ç—å? ‚Üí –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—Å—Ç
    ‚Üì –ù–µ—Ç
–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ (yt-dlp)
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    ‚Üì
–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–≤—É–∫–∞ (ffmpeg)
    ‚Üì
–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è (Whisper)
    ‚Üì
–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

---

## üíæ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
bot_v3/
‚îú‚îÄ‚îÄ bot.py (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª - –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ–≥–æ!)
‚îú‚îÄ‚îÄ processors.py (–≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
‚îú‚îÄ‚îÄ config.py (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–º–ø—Ç—ã)
‚îú‚îÄ‚îÄ requirements_v3.txt (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
‚îú‚îÄ‚îÄ .env (–≤–∞—à–∏ —Å–µ–∫—Ä–µ—Ç—ã)
‚îî‚îÄ‚îÄ /tmp/ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ/–∑–≤—É–∫ - —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

---

## üöÄ –ì–æ—Ç–æ–≤–æ!

–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- ‚úÖ –¢–µ–∫—Å—Ç, –≥–æ–ª–æ—Å, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ PDF, DOCX, TXT —Ñ–∞–π–ª—ã
- ‚úÖ –í–∏–¥–µ–æ—Ñ–∞–π–ª—ã (MP4, AVI, MOV –∏ —Ç.–¥.)
- ‚úÖ YouTube (—Å—É–±—Ç–∏—Ç—Ä—ã + –∑–≤—É–∫)
- ‚úÖ TikTok, Rutube, Instagram, Vimeo
- ‚úÖ 3 —Ä–µ–∂–∏–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–±–∞–∑–æ–≤–∞—è, –ø—Ä–µ–º–∏—É–º, —Å–∞–º–º–∞—Ä–∏)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- **README_v3.md** ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **CHANGELOG_v3.md** ‚Äî —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ v3.0
- **config.py** ‚Äî –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø—Ä–æ–º–ø—Ç—ã

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
python bot.py
```

### –î–µ–ø–ª–æ–π –Ω–∞ Render.com
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ GitHub
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Web Service
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. Start Command: `python bot.py`

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –í–∫–ª—é—á–∏—Ç—å DEBUG
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ config.py
LOG_LEVEL = "DEBUG"
LOG_VIDEO_PROCESSING = True
```

---

**–í–µ—Ä—Å–∏—è**: 3.0  
**–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ**: ‚úÖ –ü–æ–ª–Ω–∞—è  
**–°—Ç–∞—Ç—É—Å**: Ready to Deploy  
**–í—Ä–µ–º—è –Ω–∞ –∑–∞–ø—É—Å–∫**: ~5 –º–∏–Ω—É—Ç  
